interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - cloud-custodian-huaweicloud/1.0
      X-Sdk-Date:
      - 20250609T081502Z
      content-length:
      - '0'
      host:
      - cci.ap-southeast-1.myhuaweicloud.com
    method: GET
    uri: https://cci.ap-southeast-1.myhuaweicloud.com/apis/cci/v2/namespaces/default/secrets
  response:
    body:
      string: ''
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 09 Jun 2025 08:15:02 GMT
      Server:
      - CloudWAF
      Set-Cookie:
      - HWWAFSESID=238c28bdc018d5e43a; path=/
      - HWWAFSESTIME=1749456898063; path=/
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - fce77077c46a9134f37513edf25374a5
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: success
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - cloud-custodian-huaweicloud/1.0
      X-Sdk-Date:
      - 20250609T123309Z
      content-length:
      - '0'
      host:
      - cci.ap-southeast-1.myhuaweicloud.com
    method: GET
    uri: https://cci.ap-southeast-1.myhuaweicloud.com/apis/cci/v2/namespaces
  response:
    body:
      string: '{ "apiVersion" : "v1", "items" : [ { "metadata" : { "creationTimestamp"
        : "2017-06-24T02:05:16Z", "name" : "default", "resourceVersion" : "6", "selfLink"
        : "/apis/cci/v2/namespaces/default", "uid" : "90dd5244-5881-11e7-b5d7-fa163e08a2fd"
        }, "spec" : { "finalizers" : [ "kubernetes" ] }, "status" : { "phase" : "Active"
        } }, { "metadata" : { "creationTimestamp" : "2017-06-24T02:05:17Z", "name"
        : "kube-system", "resourceVersion" : "25", "selfLink" : "/apis/cci/v2/namespaces/kube-system",
        "uid" : "9178fce6-5881-11e7-b5d7-fa163e08a2fd" }, "spec" : { "finalizers"
        : [ "kubernetes" ] }, "status" : { "phase" : "Active" } } ], "kind" : "NamespaceList",
        "metadata" : { "resourceVersion" : "594181", "selfLink" : "/apis/cci/v2/namespaces"
        } }'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 09 Jun 2025 12:33:09 GMT
      Server:
      - CloudWAF
      Set-Cookie:
      - HWWAFSESID=6d815736abf1d03cd3; path=/
      - HWWAFSESTIME=1749472389328; path=/
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 2e4311da5ed006055c95ea47068834c4
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: success
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - cloud-custodian-huaweicloud/1.0
      X-Sdk-Date:
      - 20250609T123422Z
      content-length:
      - '0'
      host:
      - cci.ap-southeast-1.myhuaweicloud.com
    method: GET
    uri: https://cci.ap-southeast-1.myhuaweicloud.com/apis/cci/v2/namespaces/kube-system/secrets
  response:
    body:
      string: '{
    "apiVersion": "v1",
    "items": [
        {
            "apiVersion": "v1",
            "data": {
                "KEY": "VkFMVUU="
            },
            "kind": "Secret",
            "metadata": {
                "annotations": {
                    "secret.cci.io/namespace-uid": "a9862108-5ef1-4ca5-bd26-8ed19da4ab0e"
                },
                "creationTimestamp": "2022-09-06T01:51:20Z",
                "name": "test-secret",
                "namespace": "namespace-test",
                "resourceVersion": "41271056",
                "selfLink": "/apis/cci/v2/namespaces/namespace-test/secrets/test-secret",
                "uid": "81ddca10-6784-40d7-a58e-05f1a6088d94"
            },
            "type": "Opaque"
        }
    ],
    "kind": "SecretList",
    "metadata": {
        "resourceVersion": "41327545",
        "selfLink": "/apis/cci/v2/namespaces/namespace-test/secrets"
    }
}'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 09 Jun 2025 12:34:22 GMT
      Server:
      - CloudWAF
      Set-Cookie:
      - HWWAFSESID=f61d97342323ceed1f; path=/
      - HWWAFSESTIME=1749472462620; path=/
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 4765d875aeae6a8a959e7736b736cce2
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: success
version: 1
